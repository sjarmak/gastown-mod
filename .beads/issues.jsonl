{"id":"gt-7dm","title":"Cost governance and nondeterministic idempotence","description":"Goal: provide fine-grained resource governance so we can drive down spend while keeping autonomous throughput high using nondeterministic idempotent execution.\\n\\nScope:\\n- Introduce a BudgetTracker that enforces convoy/agent token and cost limits using telemetry emitted by each runtime.\\n- Persist usage in a new .beads/usage.jsonl ledger for auditing.\\n- Make the Deacon's scheduler aware of budgets and task complexity so it can pick the cheapest viable provider/model combo.\\n- Add a nondeterministic idempotence layer that can spawn redundant workers when needed but deduplicates results using bead state + git content hashes.\\n- Surface governance data via CLI (gt costs, gt budgets) and feed the new web UI for observability.\\n\\nSuccess criteria:\\n- Budgets can stop runaway costs automatically.\\n- Each autonomous action reports actual cost + token usage.\\n- Idempotent redundant runs are orchestrated without conflicting bead updates.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-02T08:44:32.86278-05:00","updated_at":"2026-01-02T08:44:32.86278-05:00"}
{"id":"gt-7dm.1","title":"Implement BudgetTracker ledger","description":"Add internal/budget with structs for convoy + agent budgets, integrate with runtime telemetry to record tokens/costs per session, and persist append-only entries in .beads/usage.jsonl. Provide CLI commands (gt costs, gt budget set/list) to inspect and adjust limits.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:44:40.354073-05:00","updated_at":"2026-01-02T08:44:40.354073-05:00","dependencies":[{"issue_id":"gt-7dm.1","depends_on_id":"gt-7dm","type":"parent-child","created_at":"2026-01-02T08:44:40.354588-05:00","created_by":"sjarmak"}]}
{"id":"gt-7dm.2","title":"Budget-aware deacon scheduling","description":"Teach the Deacon and witness lifecycle loops to consult BudgetTracker before spawning or continuing work. Implement heuristics for choosing cheap vs premium providers/models by task complexity, and add guardrails that pause or reassign work when convoy limits are exceeded.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T08:44:47.647811-05:00","updated_at":"2026-01-02T08:44:47.647811-05:00","dependencies":[{"issue_id":"gt-7dm.2","depends_on_id":"gt-7dm","type":"parent-child","created_at":"2026-01-02T08:44:47.648301-05:00","created_by":"sjarmak"}]}
{"id":"gt-7dm.3","title":"Nondeterministic idempotence orchestrator","description":"Design and implement a controller that can spin redundant autonomous attempts (e.g., dual polecats with different providers) while guaranteeing only one bead update wins. Use bead locks + git tree hashing to dedupe results, provide release/claim commands, and expose metrics on redundant-execution savings.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:44:54.853153-05:00","updated_at":"2026-01-02T08:44:54.853153-05:00","dependencies":[{"issue_id":"gt-7dm.3","depends_on_id":"gt-7dm","type":"parent-child","created_at":"2026-01-02T08:44:54.857492-05:00","created_by":"sjarmak"}]}
{"id":"gt-7dm.4","title":"Expose governance telemetry","description":"Emit structured events (per-agent usage, budget threshold crossings, redundant-execution outcomes) to an internal event bus so both CLI and upcoming web UI can subscribe. Provide tests covering serialization/compatibility.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T08:45:02.169896-05:00","updated_at":"2026-01-02T08:45:02.169896-05:00","dependencies":[{"issue_id":"gt-7dm.4","depends_on_id":"gt-7dm","type":"parent-child","created_at":"2026-01-02T08:45:02.170467-05:00","created_by":"sjarmak"}]}
{"id":"gt-9x8","title":"OpenHands runtime integration","description":"Goal: remove the hard dependency on Claude Code CLI by introducing a pluggable LLM runtime with a first-class OpenHands adapter.\\n\\nScope:\\n- Document every current Claude invocation path (session manager, cmd/up, daemon/witness, etc).\\n- Introduce an internal/llm package that defines a provider interface and a runtime registry.\\n- Port the existing Claude launcher into a ClaudeAdapter.\\n- Implement an OpenHandsAdapter that shells out to the OpenHands CLI (or invokes its API) with per-agent metadata.\\n- Teach all agent spawners (polecats, mayor, deacon, crew, witness, refinery) to select a provider/model per role/rig.\\n- Ensure hooks/env exports still work so existing automation keeps functioning.\\n- Provide migration notes + toggle to fall back to Claude during rollout.\\n\\nSuccess criteria:\\n- Any agent can start using OpenHands without modifying hooks.\\n- Claude remains available as a provider option for backwards compatibility.\\n- Runtime selection is test-covered and documented.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-02T08:43:52.829935-05:00","updated_at":"2026-01-02T08:43:52.829935-05:00"}
{"id":"gt-9x8.1","title":"Audit Claude-specific integration points","description":"Inventory every location that shells out to Claude today (session manager, cmd/up variants, daemon bootstrap, witness/refinery controllers, hooks) and document env var expectations. Deliverable is a markdown note in docs/ or history/ that maps each caller to the new adapter API surface so the migration can be staged without breakage.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T08:44:01.66115-05:00","updated_at":"2026-01-02T09:16:31.11236-05:00","closed_at":"2026-01-02T09:16:31.11236-05:00","dependencies":[{"issue_id":"gt-9x8.1","depends_on_id":"gt-9x8","type":"parent-child","created_at":"2026-01-02T08:44:01.66164-05:00","created_by":"sjarmak"}]}
{"id":"gt-9x8.2","title":"Add LLM adapter layer","description":"Create internal/llm with an LLMAdapter interface, runtime registry, and a ClaudeAdapter that wraps the existing tmux-based launcher. Update agent startup helpers (BuildStartupCommand, session manager, cmd/up, daemon, etc.) to delegate to the adapter instead of hardcoding claude --dangerously-skip-permissions.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:44:09.316573-05:00","updated_at":"2026-01-02T09:24:39.946233-05:00","dependencies":[{"issue_id":"gt-9x8.2","depends_on_id":"gt-9x8","type":"parent-child","created_at":"2026-01-02T08:44:09.317082-05:00","created_by":"sjarmak"}]}
{"id":"gt-9x8.3","title":"Implement OpenHands provider","description":"Build an OpenHandsAdapter that can launch OpenHands autonomous agents with the correct rig/role metadata, handle session streaming, and expose hooks for nondeterministic idempotence orchestration. Wire per-role provider/model overrides in settings/config.json, add CLI flags/env vars to select OpenHands, and provide fallback toggles.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2026-01-02T08:44:17.606282-05:00","updated_at":"2026-01-02T09:42:35.532668-05:00","dependencies":[{"issue_id":"gt-9x8.3","depends_on_id":"gt-9x8","type":"parent-child","created_at":"2026-01-02T08:44:17.606796-05:00","created_by":"sjarmak"}]}
{"id":"gt-9x8.4","title":"Runtime selection tests \u0026 docs","description":"Add unit/integration tests that cover runtime selection (default, rig-level overrides, per-role overrides) and ensure Claude/OpenHands adapters pass the same contract. Document migration steps and the new configuration fields in docs/INSTALLING.md + docs/reference runtime sections.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T08:44:24.588606-05:00","updated_at":"2026-01-02T08:44:24.588606-05:00","dependencies":[{"issue_id":"gt-9x8.4","depends_on_id":"gt-9x8","type":"parent-child","created_at":"2026-01-02T08:44:24.589133-05:00","created_by":"sjarmak"}]}
{"id":"gt-yo6","title":"Web UI for governance and observability","description":"Goal: deliver a streamlined web UI that surfaces convoy/agent status, cost governance, and control hooks without replacing the CLI.\\n\\nScope:\\n- Add a lightweight Go API server with REST + WebSocket endpoints exposing bead/agent state and governance telemetry.\\n- Build a SvelteKit/Next.js frontend (in npm-package/ or a new ui/ dir) with dashboards for convoys, agents, costs, and nondeterministic executions.\\n- Include live tmux session tails, molecule step visualization, and flow diagrams.\\n- Support interactive controls (nudge, sling, kill) gated by budgets + role-based auth.\\n- Package the UI so `gt ui start` launches it locally with minimal deps.\\n\\nSuccess criteria:\\n- Read-only dashboard feature parity with CLI status commands.\\n- Governance data (budgets, cost usage, redundant-run outcomes) visible in near real time.\\n- Control actions respect budgets and auditable via beads.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-02T08:45:11.533015-05:00","updated_at":"2026-01-02T08:45:20.31676-05:00"}
{"id":"gt-yo6.1","title":"Launch API server + event hub","description":"Create internal/server with REST endpoints for convoys/agents/rigs/costs plus a WebSocket hub that streams the governance telemetry produced in gt-7dm. Wire it to fsnotify + tmux pollers. Ship a `gt ui start` command to boot the server.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:28.134346-05:00","updated_at":"2026-01-02T08:45:36.366318-05:00","dependencies":[{"issue_id":"gt-yo6.1","depends_on_id":"gt-yo6","type":"parent-child","created_at":"2026-01-02T08:45:28.134851-05:00","created_by":"sjarmak"}]}
{"id":"gt-yo6.2","title":"Web UI scaffold","description":"Stand up a frontend app (SvelteKit/Next.js) under npm-package/ui with routing, auth placeholders, component library, and WebSocket client that consumes the new API. Include mock data + storybook-style components so we can iterate fast.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T08:45:43.601534-05:00","updated_at":"2026-01-02T08:45:43.601534-05:00","dependencies":[{"issue_id":"gt-yo6.2","depends_on_id":"gt-yo6","type":"parent-child","created_at":"2026-01-02T08:45:43.60198-05:00","created_by":"sjarmak"}]}
{"id":"gt-yo6.3","title":"Dashboard + agent views","description":"Implement live dashboards for convoys, agents, costs, and redundant runs. Include tmux session tail (read-only), molecule step progress, flow diagram, and budget progress bars fed by telemetry.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:51.16379-05:00","updated_at":"2026-01-02T08:45:51.16379-05:00","dependencies":[{"issue_id":"gt-yo6.3","depends_on_id":"gt-yo6","type":"parent-child","created_at":"2026-01-02T08:45:51.164319-05:00","created_by":"sjarmak"}]}
{"id":"gt-yo6.4","title":"Interactive controls with governance guardrails","description":"Add authenticated endpoints + UI controls for nudging/pausing/killing agents and slinging beads. Enforce cost/budget guardrails before executing actions and audit everything back into beads for traceability.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T08:45:58.230685-05:00","updated_at":"2026-01-02T08:45:58.230685-05:00","dependencies":[{"issue_id":"gt-yo6.4","depends_on_id":"gt-yo6","type":"parent-child","created_at":"2026-01-02T08:45:58.2312-05:00","created_by":"sjarmak"}]}
{"id":"gt-yo6.5","title":"Replay + analytics","description":"Implement session replay, agent timelines, cost trend charts, and anomaly detection insights in the UI using the event log emitted by governance telemetry.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T08:46:05.437194-05:00","updated_at":"2026-01-02T08:46:05.437194-05:00","dependencies":[{"issue_id":"gt-yo6.5","depends_on_id":"gt-yo6","type":"parent-child","created_at":"2026-01-02T08:46:05.437715-05:00","created_by":"sjarmak"}]}
